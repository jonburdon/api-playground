<!DOCTYPE html>
<html>

<head>
    <title>API Test to load current position of ISS using json from API</title>
    <script src="assets/scripts/main.js"></script>
</head>

<body>
        
<h1>Today's Weather in London</h1>

<p>
Weather in: <span id="london"></span><br>
Wind: <span id="wind"></span><br>
Temperature: <span id="temp"></span><br>
Humidity: <span id="humidity"></span><br>


</p>

<script>

const weather_api_url = 'http://api.openweathermap.org/data/2.5/weather?q=London,uk&units=metric&APPID=267efe42de5b5cb74d5d92c44c405ce6';

async function getWeather() {
   const response = await fetch(weather_api_url); 
   const data = await response.json();
   console.log(data);
   console.log(data.name);
//    console.log(data.longitude);
//    Use Javascript destructuring to take data from array and create separate variables
    const {name, wind, main} = data;
    console.log(name);
    console.log(wind);
    console.log(`Wind Speed ${wind.speed}`);
    console.log(`Humidity ${main.humidity}`);
    console.log(`Temperature ${main.temp}`);
    
   
    // console.log(wind.speed);

// Update the DOM
    document.getElementById('london').textContent = name;
    document.getElementById('wind').textContent = wind.speed;
    document.getElementById('temp').textContent = main.temp;
    document.getElementById('humidity').textContent = main.humidity;
    
}

getWeather();

</script>  

</body>

</html>